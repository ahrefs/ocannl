(executable
 (name test_numerical_types)
 (package arrayjit)
 (public_name arrayjit.test_numerical_types)
 (modules test_numerical_types)
 (libraries base stdio arrayjit.ir)
 (preprocess
  (pps ppx_here)))

(rule
 (target test_numerical_types.output)
 (package arrayjit)
 (deps test_numerical_types.exe ocannl_config)
 (action
  (with-stdout-to
   %{target}
   (run %{deps}))))

(rule
 (alias runtest)
 (package arrayjit)
 (action
  (diff test_numerical_types.expected test_numerical_types.output)))
