<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Npy (ocannl_npy.Npy)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">ocannl_npy</a> &#x00BB; Npy</nav><header class="odoc-preamble"><h1>Module <code><span>Npy</span></code></h1><p>Author: Laurent Mazare &lt;lmazare@gmail.com&gt;</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-write1"><a href="#val-write1" class="anchor"></a><code><span><span class="keyword">val</span> write1 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array1.t</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write2"><a href="#val-write2" class="anchor"></a><code><span><span class="keyword">val</span> write2 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array2.t</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write3"><a href="#val-write3" class="anchor"></a><code><span><span class="keyword">val</span> write3 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array3.t</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write"><a href="#val-write" class="anchor"></a><code><span><span class="keyword">val</span> write : 
  <span><span class="optlabel">?header_len</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Genarray.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>write ?header_len bigarray filename</code> writes a npy file <code>filename</code> with the content of <code>bigarray</code>. <code>header_len</code> can be used to override the npy header length. This is only useful for testing.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Batch_writer"><a href="#module-Batch_writer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Batch_writer/index.html">Batch_writer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-packed_array"><a href="#type-packed_array" class="anchor"></a><code><span><span class="keyword">type</span> packed_array</span><span> = </span></code><ol><li id="type-packed_array.P" class="def variant constructor anchored"><a href="#type-packed_array.P" class="anchor"></a><code><span>| </span><span><span class="constructor">P</span> : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Genarray.t</span> <span class="arrow">&#45;&gt;</span> <a href="#type-packed_array">packed_array</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-packed_array1"><a href="#type-packed_array1" class="anchor"></a><code><span><span class="keyword">type</span> packed_array1</span><span> = </span></code><ol><li id="type-packed_array1.P1" class="def variant constructor anchored"><a href="#type-packed_array1.P1" class="anchor"></a><code><span>| </span><span><span class="constructor">P1</span> : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array1.t</span> <span class="arrow">&#45;&gt;</span> <a href="#type-packed_array1">packed_array1</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-packed_array2"><a href="#type-packed_array2" class="anchor"></a><code><span><span class="keyword">type</span> packed_array2</span><span> = </span></code><ol><li id="type-packed_array2.P2" class="def variant constructor anchored"><a href="#type-packed_array2.P2" class="anchor"></a><code><span>| </span><span><span class="constructor">P2</span> : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array2.t</span> <span class="arrow">&#45;&gt;</span> <a href="#type-packed_array2">packed_array2</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-packed_array3"><a href="#type-packed_array3" class="anchor"></a><code><span><span class="keyword">type</span> packed_array3</span><span> = </span></code><ol><li id="type-packed_array3.P3" class="def variant constructor anchored"><a href="#type-packed_array3.P3" class="anchor"></a><code><span>| </span><span><span class="constructor">P3</span> : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array3.t</span> <span class="arrow">&#45;&gt;</span> <a href="#type-packed_array3">packed_array3</a></span></code></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_mmap"><a href="#val-read_mmap" class="anchor"></a><code><span><span class="keyword">val</span> read_mmap : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">shared</span>:bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-packed_array">packed_array</a></span></code></div><div class="spec-doc"><p><code>read_mmap filename ~shared</code> returns a packed bigarray mmaped to the content of <code>filename</code>. If <code>shared</code> is <code>true</code> modifications made to the array are reflected to the file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_mmap1"><a href="#val-read_mmap1" class="anchor"></a><code><span><span class="keyword">val</span> read_mmap1 : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">shared</span>:bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-packed_array1">packed_array1</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_mmap2"><a href="#val-read_mmap2" class="anchor"></a><code><span><span class="keyword">val</span> read_mmap2 : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">shared</span>:bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-packed_array2">packed_array2</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_mmap3"><a href="#val-read_mmap3" class="anchor"></a><code><span><span class="keyword">val</span> read_mmap3 : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">shared</span>:bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-packed_array3">packed_array3</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_copy"><a href="#val-read_copy" class="anchor"></a><code><span><span class="keyword">val</span> read_copy : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-packed_array">packed_array</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_copy1"><a href="#val-read_copy1" class="anchor"></a><code><span><span class="keyword">val</span> read_copy1 : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-packed_array1">packed_array1</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_copy2"><a href="#val-read_copy2" class="anchor"></a><code><span><span class="keyword">val</span> read_copy2 : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-packed_array2">packed_array2</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_copy3"><a href="#val-read_copy3" class="anchor"></a><code><span><span class="keyword">val</span> read_copy3 : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-packed_array3">packed_array3</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Npz"><a href="#module-Npz" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Npz/index.html">Npz</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><p>Conversion functions from packed arrays to bigarrays</p><div class="odoc-spec"><div class="spec value anchored" id="val-to_bigarray"><a href="#val-to_bigarray" class="anchor"></a><code><span><span class="keyword">val</span> to_bigarray : 
  <span><span><span class="type-var">'c</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.layout</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.kind</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-packed_array">packed_array</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Genarray.t</span> option</span></span></code></div><div class="spec-doc"><p><code>to_bigarray layout kind packed_array</code> returns <code>Some a</code> with <code>a</code> a <code>Bigarray.Genarray.t</code> if the layout and the kind of <code>packed_array</code> were equal to the <code>layout</code> and <code>kind</code> arguments. Otherwise, <code>to_bigarray</code> returns <code>None</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_bigarray1"><a href="#val-to_bigarray1" class="anchor"></a><code><span><span class="keyword">val</span> to_bigarray1 : 
  <span><span><span class="type-var">'c</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.layout</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.kind</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-packed_array1">packed_array1</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array1.t</span> option</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-to_bigarray"><code>to_bigarray</code></a> for <code>Bigarray.Array1.t</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_bigarray2"><a href="#val-to_bigarray2" class="anchor"></a><code><span><span class="keyword">val</span> to_bigarray2 : 
  <span><span><span class="type-var">'c</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.layout</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.kind</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-packed_array2">packed_array2</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array2.t</span> option</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-to_bigarray"><code>to_bigarray</code></a> for <code>Bigarray.Array2.t</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_bigarray3"><a href="#val-to_bigarray3" class="anchor"></a><code><span><span class="keyword">val</span> to_bigarray3 : 
  <span><span><span class="type-var">'c</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.layout</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.kind</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-packed_array3">packed_array3</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <span class="xref-unresolved">Stdlib</span>.Bigarray.Array3.t</span> option</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-to_bigarray"><code>to_bigarray</code></a> for <code>Bigarray.Array3.t</code></p></div></div></div></body></html>
